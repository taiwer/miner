!function(J){var I=3;try{I=parseInt(J.fn.dropdown.Constructor.VERSION,10)}catch(H){}var G={3:{buttonsClass:"default",iconsPrefix:"glyphicon",icons:{paginationSwitchDown:"glyphicon-collapse-down icon-chevron-down",paginationSwitchUp:"glyphicon-collapse-up icon-chevron-up",refresh:"glyphicon-refresh icon-refresh",toggleOff:"glyphicon-list-alt icon-list-alt",toggleOn:"glyphicon-list-alt icon-list-alt",columns:"glyphicon-th icon-th",detailOpen:"glyphicon-plus icon-plus",detailClose:"glyphicon-minus icon-minus",fullscreen:"glyphicon-fullscreen"},pullClass:"pull",toobarDropdowHtml:['<ul class="dropdown-menu" role="menu">',"</ul>"],toobarDropdowItemHtml:'<li role="menuitem"><label>%s</label></li>',pageDropdownHtml:['<ul class="dropdown-menu" role="menu">',"</ul>"],pageDropdownItemHtml:'<li role="menuitem" class="%s"><a href="#">%s</a></li>'},4:{buttonsClass:"secondary",iconsPrefix:"fa",icons:{paginationSwitchDown:"fa-toggle-down",paginationSwitchUp:"fa-toggle-up",refresh:"fa-refresh",toggleOff:"fa-toggle-off",toggleOn:"fa-toggle-on",columns:"fa-th-list",detailOpen:"fa-plus",detailClose:"fa-minus",fullscreen:"fa-arrows-alt"},pullClass:"float",toobarDropdowHtml:['<div class="dropdown-menu dropdown-menu-right">',"</div>"],toobarDropdowItemHtml:'<label class="dropdown-item">%s</label>',pageDropdownHtml:['<div class="dropdown-menu">',"</div>"],pageDropdownItemHtml:'<a class="dropdown-item %s" href="#">%s</a>'}}[I],F=null,E=function(f){var e=arguments,h=!0,g=1;return f=f.replace(/%s/g,function(){var b=e[g++];return"undefined"==typeof b?(h=!1,""):b}),h?f:""},D=function(a,j,i,h){var g="";return J.each(a,function(d,c){return c[j]===h?(g=c[i],!1):!0}),g},C=function(L){var K,r,q,p=0,o=[];for(K=0;K<L[0].length;K++){p+=L[0][K].colspan||1}for(K=0;K<L.length;K++){for(o[K]=[],r=0;p>r;r++){o[K][r]=!1}}for(K=0;K<L.length;K++){for(r=0;r<L[K].length;r++){var n=L[K][r],m=n.rowspan||1,l=n.colspan||1,a=J.inArray(!1,o[K]);for(1===l&&(n.fieldIndex=a,"undefined"==typeof n.field&&(n.field=a)),q=0;m>q;q++){o[K+q][a]=!0}for(q=0;l>q;q++){o[K][a+q]=!0}}}},B=function(){if(null===F){var a,h,g=J("<p/>").addClass("fixed-table-scroll-inner"),e=J("<div/>").addClass("fixed-table-scroll-outer");e.append(g),J("body").append(e),a=g[0].offsetWidth,e.css("overflow","scroll"),h=g[0].offsetWidth,a===h&&(h=e[0].clientWidth),e.remove(),F=a-h}return F},A=function(a,l,k,j){var i=l;if("string"==typeof l){var f=l.split(".");f.length>1?(i=window,J.each(f,function(d,c){i=i[c]})):i=window[l]}return"object"==typeof i?i:"function"==typeof i?i.apply(a,k||[]):!i&&"string"==typeof l&&E.apply(this,[l].concat(k))?E.apply(this,[l].concat(k)):j},z=function(a,p,o){var n=Object.getOwnPropertyNames||function(e){var d=[];for(var f in e){e.hasOwnProperty(f)&&d.push(f)}return d},m=n(a),l=n(p),k="";if(o&&m.length!==l.length){return !1}for(var j=0;j<m.length;j++){if(k=m[j],J.inArray(k,l)>-1&&a[k]!==p[k]){return !1}}return !0},y=function(b){return"string"==typeof b?b.replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/"/g,"&quot;").replace(/'/g,"&#039;").replace(/`/g,"&#x60;"):b},x=function(e){for(var d in e){var f=d.split(/(?=[A-Z])/).join("-").toLowerCase();f!==d&&(e[f]=e[d],delete e[d])}return e},w=function(h,g,l){var k=h;if("string"!=typeof g||h.hasOwnProperty(g)){return l?y(h[g]):h[g]}var j=g.split(".");for(var i in j){j.hasOwnProperty(i)&&(k=k&&k[j[i]])}return l?y(k):k},v=function(){return !!(navigator.userAgent.indexOf("MSIE ")>0||navigator.userAgent.match(/Trident.*rv\:11\./))},u=function(){Object.keys||(Object.keys=function(){var f=Object.prototype.hasOwnProperty,e=!{toString:null}.propertyIsEnumerable("toString"),h=["toString","toLocaleString","valueOf","hasOwnProperty","isPrototypeOf","propertyIsEnumerable","constructor"],g=h.length;return function(d){if("object"!=typeof d&&("function"!=typeof d||null===d)){throw new TypeError("Object.keys called on non-object")}var c,b,a=[];for(c in d){f.call(d,c)&&a.push(c)}if(e){for(b=0;g>b;b++){f.call(d,h[b])&&a.push(h[b])}}return a}}())},t=function(a,d){this.options=d,this.$el=J(a),this.$el_=this.$el.clone(),this.timeoutId_=0,this.timeoutFooter_=0,this.init()};t.DEFAULTS={classes:"table table-hover",sortClass:void 0,locale:void 0,height:void 0,undefinedText:"-",sortName:void 0,sortOrder:"asc",sortStable:!1,rememberOrder:!1,striped:!1,columns:[[]],data:[],totalField:"total",dataField:"rows",method:"get",url:void 0,ajax:void 0,cache:!0,contentType:"application/json",dataType:"json",ajaxOptions:{},queryParams:function(b){return b},queryParamsType:"limit",responseHandler:function(b){return b},pagination:!1,onlyInfoPagination:!1,paginationLoop:!0,sidePagination:"client",totalRows:0,pageNumber:1,pageSize:10,pageList:[10,25,50,100],paginationHAlign:"right",paginationVAlign:"bottom",paginationDetailHAlign:"left",paginationPreText:"&lsaquo;",paginationNextText:"&rsaquo;",search:!1,searchOnEnterKey:!1,strictSearch:!1,searchAlign:"right",selectItemName:"btSelectItem",showHeader:!0,showFooter:!1,showColumns:!1,showPaginationSwitch:!1,showRefresh:!1,showToggle:!1,showFullscreen:!1,smartDisplay:!0,escape:!1,minimumCountColumns:1,idField:void 0,uniqueId:void 0,cardView:!1,detailView:!1,detailFormatter:function(){return""},detailFilter:function(){return !0},trimOnSearch:!0,clickToSelect:!1,singleSelect:!1,toolbar:void 0,toolbarAlign:"left",buttonsToolbar:void 0,buttonsAlign:"right",checkboxHeader:!0,sortable:!0,silentSort:!0,maintainSelected:!1,searchTimeOut:500,searchText:"",iconSize:void 0,buttonsClass:G.buttonsClass,iconsPrefix:G.iconsPrefix,icons:G.icons,customSearch:J.noop,customSort:J.noop,ignoreClickToSelectOn:function(a){return J.inArray(a.tagName,["A","BUTTON"])},rowStyle:function(){return{}},rowAttributes:function(){return{}},footerStyle:function(){return{}},onAll:function(){return !1},onClickCell:function(){return !1},onDblClickCell:function(){return !1},onClickRow:function(){return !1},onDblClickRow:function(){return !1},onSort:function(){return !1},onCheck:function(){return !1},onUncheck:function(){return !1},onCheckAll:function(){return !1},onUncheckAll:function(){return !1},onCheckSome:function(){return !1},onUncheckSome:function(){return !1},onLoadSuccess:function(){return !1},onLoadError:function(){return !1},onColumnSwitch:function(){return !1},onPageChange:function(){return !1},onSearch:function(){return !1},onToggle:function(){return !1},onPreBody:function(){return !1},onPostBody:function(){return !1},onPostHeader:function(){return !1},onExpandRow:function(){return !1},onCollapseRow:function(){return !1},onRefreshOptions:function(){return !1},onRefresh:function(){return !1},onResetView:function(){return !1},onScrollBody:function(){return !1}},t.LOCALES={},t.LOCALES["en-US"]=t.LOCALES.en={formatLoadingMessage:function(){return"Loading, please wait..."},formatRecordsPerPage:function(b){return E("%s rows per page",b)},formatShowingRows:function(e,d,f){return E("Showing %s to %s of %s rows",e,d,f)},formatDetailPagination:function(b){return E("Showing %s rows",b)},formatSearch:function(){return"Search"},formatNoMatches:function(){return"No matching records found"},formatPaginationSwitch:function(){return"Hide/Show pagination"},formatRefresh:function(){return"Refresh"},formatToggle:function(){return"Toggle"},formatFullscreen:function(){return"Fullscreen"},formatColumns:function(){return"Columns"},formatAllRows:function(){return"All"}},J.extend(t.DEFAULTS,t.LOCALES["en-US"]),t.COLUMN_DEFAULTS={radio:!1,checkbox:!1,checkboxEnabled:!0,field:void 0,title:void 0,titleTooltip:void 0,"class":void 0,align:void 0,halign:void 0,falign:void 0,valign:void 0,width:void 0,sortable:!1,order:"asc",visible:!0,switchable:!0,clickToSelect:!0,formatter:void 0,footerFormatter:void 0,events:void 0,sorter:void 0,sortName:void 0,cellStyle:void 0,searchable:!0,searchFormatter:!0,cardVisible:!0,escape:!1,showSelectTitle:!1},t.EVENTS={"all.bs.table":"onAll","click-cell.bs.table":"onClickCell","dbl-click-cell.bs.table":"onDblClickCell","click-row.bs.table":"onClickRow","dbl-click-row.bs.table":"onDblClickRow","sort.bs.table":"onSort","check.bs.table":"onCheck","uncheck.bs.table":"onUncheck","check-all.bs.table":"onCheckAll","uncheck-all.bs.table":"onUncheckAll","check-some.bs.table":"onCheckSome","uncheck-some.bs.table":"onUncheckSome","load-success.bs.table":"onLoadSuccess","load-error.bs.table":"onLoadError","column-switch.bs.table":"onColumnSwitch","page-change.bs.table":"onPageChange","search.bs.table":"onSearch","toggle.bs.table":"onToggle","pre-body.bs.table":"onPreBody","post-body.bs.table":"onPostBody","post-header.bs.table":"onPostHeader","expand-row.bs.table":"onExpandRow","collapse-row.bs.table":"onCollapseRow","refresh-options.bs.table":"onRefreshOptions","reset-view.bs.table":"onResetView","refresh.bs.table":"onRefresh","scroll-body.bs.table":"onScrollBody"},t.prototype.init=function(){this.initLocale(),this.initContainer(),this.initTable(),this.initHeader(),this.initData(),this.initHiddenRows(),this.initFooter(),this.initToolbar(),this.initPagination(),this.initBody(),this.initSearchText(),this.initServer()},t.prototype.initLocale=function(){if(this.options.locale){var a=this.options.locale.split(/-|_/);a[0].toLowerCase(),a[1]&&a[1].toUpperCase(),J.fn.bootstrapTable.locales[this.options.locale]?J.extend(this.options,J.fn.bootstrapTable.locales[this.options.locale]):J.fn.bootstrapTable.locales[a.join("-")]?J.extend(this.options,J.fn.bootstrapTable.locales[a.join("-")]):J.fn.bootstrapTable.locales[a[0]]&&J.extend(this.options,J.fn.bootstrapTable.locales[a[0]])}},t.prototype.initContainer=function(){this.$container=J(['<div class="bootstrap-table">','<div class="fixed-table-toolbar"></div>',"top"===this.options.paginationVAlign||"both"===this.options.paginationVAlign?'<div class="fixed-table-pagination" style="clear: both;"></div>':"",'<div class="fixed-table-container">','<div class="fixed-table-header"><table></table></div>','<div class="fixed-table-body">','<div class="fixed-table-loading">',this.options.formatLoadingMessage(),"</div>","</div>",'<div class="fixed-table-footer"><table><tr></tr></table></div>',"</div>","bottom"===this.options.paginationVAlign||"both"===this.options.paginationVAlign?'<div class="fixed-table-pagination"></div>':"","</div>"].join("")),this.$container.insertAfter(this.$el),this.$tableContainer=this.$container.find(".fixed-table-container"),this.$tableHeader=this.$container.find(".fixed-table-header"),this.$tableBody=this.$container.find(".fixed-table-body"),this.$tableLoading=this.$container.find(".fixed-table-loading"),this.$tableFooter=this.$container.find(".fixed-table-footer"),this.$toolbar=this.options.buttonsToolbar?J("body").find(this.options.buttonsToolbar):this.$container.find(".fixed-table-toolbar"),this.$pagination=this.$container.find(".fixed-table-pagination"),this.$tableBody.append(this.$el),this.$container.after('<div class="clearfix"></div>'),this.$el.addClass(this.options.classes),this.options.striped&&this.$el.addClass("table-striped"),-1!==J.inArray("table-no-bordered",this.options.classes.split(" "))&&this.$tableContainer.addClass("table-no-bordered")},t.prototype.initTable=function(){var a=this,h=[],g=[];if(this.$header=this.$el.find(">thead"),this.$header.length||(this.$header=J("<thead></thead>").appendTo(this.$el)),this.$header.find("tr").each(function(){var c=[];J(this).find("th").each(function(){"undefined"!=typeof J(this).data("field")&&J(this).data("field",J(this).data("field")+""),c.push(J.extend({},{title:J(this).html(),"class":J(this).attr("class"),titleTooltip:J(this).attr("title"),rowspan:J(this).attr("rowspan")?+J(this).attr("rowspan"):void 0,colspan:J(this).attr("colspan")?+J(this).attr("colspan"):void 0},J(this).data()))}),h.push(c)}),J.isArray(this.options.columns[0])||(this.options.columns=[this.options.columns]),this.options.columns=J.extend(!0,[],h,this.options.columns),this.columns=[],this.fieldsColumnsIndex=[],C(this.options.columns),J.each(this.options.columns,function(e,b){J.each(b,function(i,c){c=J.extend({},t.COLUMN_DEFAULTS,c),"undefined"!=typeof c.fieldIndex&&(a.columns[c.fieldIndex]=c,a.fieldsColumnsIndex[c.field]=c.fieldIndex),a.options.columns[e][i]=c})}),!this.options.data.length){var f=[];this.$el.find(">tbody>tr").each(function(d){var b={};b._id=J(this).attr("id"),b._class=J(this).attr("class"),b._data=x(J(this).data()),J(this).find(">td").each(function(q){for(var p,o,n=J(this),m=+n.attr("colspan")||1,e=+n.attr("rowspan")||1;f[d]&&f[d][q];q++){}for(p=q;q+m>p;p++){for(o=d;d+e>o;o++){f[o]||(f[o]=[]),f[o][p]=!0}}var c=a.columns[q].field;b[c]=J(this).html(),b["_"+c+"_id"]=J(this).attr("id"),b["_"+c+"_class"]=J(this).attr("class"),b["_"+c+"_rowspan"]=J(this).attr("rowspan"),b["_"+c+"_colspan"]=J(this).attr("colspan"),b["_"+c+"_title"]=J(this).attr("title"),b["_"+c+"_data"]=x(J(this).data())}),g.push(b)}),this.options.data=g,g.length&&(this.fromHtml=!0)}},t.prototype.initHeader=function(){var a=this,f={},e=[];this.header={fields:[],styles:[],classes:[],formatters:[],events:[],sorters:[],sortNames:[],cellStyles:[],searchables:[]},J.each(this.options.columns,function(c,b){e.push("<tr>"),0===c&&!a.options.cardView&&a.options.detailView&&e.push(E('<th class="detail" rowspan="%s"><div class="fht-cell"></div></th>',a.options.columns.length)),J.each(b,function(O,N){var M="",L="",K="",r="",q=E(' class="%s"',N["class"]),p=(a.options.sortOrder||N.order,"px"),l=N.width;if(void 0===N.width||a.options.cardView||"string"==typeof N.width&&-1!==N.width.indexOf("%")&&(p="%"),N.width&&"string"==typeof N.width&&(l=N.width.replace("%","").replace("px","")),L=E("text-align: %s; ",N.halign?N.halign:N.align),K=E("text-align: %s; ",N.align),r=E("vertical-align: %s; ",N.valign),r+=E("width: %s; ",!N.checkbox&&!N.radio||l?l?l+p:void 0:N.showSelectTitle?void 0:"36px"),"undefined"!=typeof N.fieldIndex){if(a.header.fields[N.fieldIndex]=N.field,a.header.styles[N.fieldIndex]=K+r,a.header.classes[N.fieldIndex]=q,a.header.formatters[N.fieldIndex]=N.formatter,a.header.events[N.fieldIndex]=N.events,a.header.sorters[N.fieldIndex]=N.sorter,a.header.sortNames[N.fieldIndex]=N.sortName,a.header.cellStyles[N.fieldIndex]=N.cellStyle,a.header.searchables[N.fieldIndex]=N.searchable,!N.visible){return}if(a.options.cardView&&!N.cardVisible){return}f[N.field]=N}e.push("<th"+E(' title="%s"',N.titleTooltip),N.checkbox||N.radio?E(' class="bs-checkbox %s"',N["class"]||""):q,E(' style="%s"',L+r),E(' rowspan="%s"',N.rowspan),E(' colspan="%s"',N.colspan),E(' data-field="%s"',N.field),0===O&&N.fieldIndex?" data-not-first-th":"",">"),e.push(E('<div class="th-inner %s">',a.options.sortable&&N.sortable?"sortable both":"")),M=a.options.escape?y(N.title):N.title;var d=M;N.checkbox&&(M="",!a.options.singleSelect&&a.options.checkboxHeader&&(M='<input name="btSelectAll" type="checkbox" />'),a.header.stateField=N.field),N.radio&&(M="",a.header.stateField=N.field,a.options.singleSelect=!0),!M&&N.showSelectTitle&&(M+=d),e.push(M),e.push("</div>"),e.push('<div class="fht-cell"></div>'),e.push("</div>"),e.push("</th>")}),e.push("</tr>")}),this.$header.html(e.join("")),this.$header.find("th[data-field]").each(function(){J(this).data(f[J(this).data("field")])}),this.$container.off("click",".th-inner").on("click",".th-inner",function(g){var b=J(this);return a.options.detailView&&!b.parent().hasClass("bs-checkbox")&&b.closest(".bootstrap-table")[0]!==a.$container[0]?!1:void (a.options.sortable&&b.parent().data().sortable&&a.onSort(g))}),this.$header.children().children().off("keypress").on("keypress",function(g){if(a.options.sortable&&J(this).data().sortable){var b=g.keyCode||g.which;13==b&&a.onSort(g)}}),J(window).off("resize.bootstrap-table"),!this.options.showHeader||this.options.cardView?(this.$header.hide(),this.$tableHeader.hide(),this.$tableLoading.css("top",0)):(this.$header.show(),this.$tableHeader.show(),this.$tableLoading.css("top",this.$header.outerHeight()+1),this.getCaret(),J(window).on("resize.bootstrap-table",J.proxy(this.resetWidth,this))),this.$selectAll=this.$header.find('[name="btSelectAll"]'),this.$selectAll.off("click").on("click",function(){var b=J(this).prop("checked");a[b?"checkAll":"uncheckAll"](),a.updateSelected()})},t.prototype.initFooter=function(){!this.options.showFooter||this.options.cardView?this.$tableFooter.hide():this.$tableFooter.show()},t.prototype.initData=function(d,c){this.options.data="append"===c?this.options.data.concat(d):"prepend"===c?[].concat(d).concat(this.options.data):d||this.options.data,this.data=this.options.data,"server"!==this.options.sidePagination&&this.initSort()},t.prototype.initSort=function(){var a=this,j=this.options.sortName,i="desc"===this.options.sortOrder?-1:1,h=J.inArray(this.options.sortName,this.header.fields),f=0;return this.options.customSort!==J.noop?void this.options.customSort.apply(this,[this.options.sortName,this.options.sortOrder]):void (-1!==h&&(this.options.sortStable&&J.each(this.data,function(d,c){c._position=d}),this.data.sort(function(l,e){a.header.sortNames[h]&&(j=a.header.sortNames[h]);var d=w(l,j,a.options.escape),c=w(e,j,a.options.escape),b=A(a.header,a.header.sorters[h],[d,c,l,e]);return void 0!==b?a.options.sortStable&&0===b?l._position-e._position:i*b:((void 0===d||null===d)&&(d=""),(void 0===c||null===c)&&(c=""),a.options.sortStable&&d===c?(d=l._position,c=e._position,l._position-e._position):J.isNumeric(d)&&J.isNumeric(c)?(d=parseFloat(d),c=parseFloat(c),c>d?-1*i:i):d===c?0:("string"!=typeof d&&(d=d.toString()),-1===d.localeCompare(c)?-1*i:i))}),void 0!==this.options.sortClass&&(clearTimeout(f),f=setTimeout(function(){a.$el.removeClass(a.options.sortClass);var b=a.$header.find(E('[data-field="%s"]',a.options.sortName).index()+1);a.$el.find(E("tr td:nth-child(%s)",b)).addClass(a.options.sortClass)},250))))},t.prototype.onSort=function(a){var f="keypress"===a.type?J(a.currentTarget):J(a.currentTarget).parent(),e=this.$header.find("th").eq(f.index());return this.$header.add(this.$header_).find("span.order").remove(),this.options.sortName===f.data("field")?this.options.sortOrder="asc"===this.options.sortOrder?"desc":"asc":(this.options.sortName=f.data("field"),this.options.sortOrder=this.options.rememberOrder?"asc"===f.data("order")?"desc":"asc":this.columns[this.fieldsColumnsIndex[f.data("field")]].order),this.trigger("sort",this.options.sortName,this.options.sortOrder),f.add(e).data("order",this.options.sortOrder),this.getCaret(),"server"===this.options.sidePagination?void this.initServer(this.options.silentSort):(this.initSort(),void this.initBody())},t.prototype.initToolbar=function(){var a,l,k=this,j=[],f=0,d=0;this.$toolbar.find(".bs-bars").children().length&&J("body").append(J(this.options.toolbar)),this.$toolbar.html(""),("string"==typeof this.options.toolbar||"object"==typeof this.options.toolbar)&&J(E('<div class="bs-bars %s-%s"></div>',G.pullClass,this.options.toolbarAlign)).appendTo(this.$toolbar).append(J(this.options.toolbar)),j=[E('<div class="columns columns-%s btn-group %s-%s">',this.options.buttonsAlign,G.pullClass,this.options.buttonsAlign)],"string"==typeof this.options.icons&&(this.options.icons=A(null,this.options.icons)),this.options.showPaginationSwitch&&j.push(E('<button class="btn'+E(" btn-%s",this.options.buttonsClass)+E(" btn-%s",this.options.iconSize)+'" type="button" name="paginationSwitch" aria-label="pagination Switch" title="%s">',this.options.formatPaginationSwitch()),E('<i class="%s %s"></i>',this.options.iconsPrefix,this.options.icons.paginationSwitchDown),"</button>"),this.options.showFullscreen&&this.$toolbar.find('button[name="fullscreen"]').off("click").on("click",J.proxy(this.toggleFullscreen,this)),this.options.showRefresh&&j.push(E('<button class="btn'+E(" btn-%s",this.options.buttonsClass)+E(" btn-%s",this.options.iconSize)+'" type="button" name="refresh" aria-label="refresh" title="%s">',this.options.formatRefresh()),E('<i class="%s %s"></i>',this.options.iconsPrefix,this.options.icons.refresh),"</button>"),this.options.showToggle&&j.push(E('<button class="btn'+E(" btn-%s",this.options.buttonsClass)+E(" btn-%s",this.options.iconSize)+'" type="button" name="toggle" aria-label="toggle" title="%s">',this.options.formatToggle()),E('<i class="%s %s"></i>',this.options.iconsPrefix,this.options.icons.toggle),"</button>"),this.options.showFullscreen&&j.push(E('<button class="btn'+E(" btn-%s",this.options.buttonsClass)+E(" btn-%s",this.options.iconSize)+'" type="button" name="fullscreen" aria-label="fullscreen" title="%s">',this.options.formatFullscreen()),E('<i class="%s %s"></i>',this.options.iconsPrefix,this.options.icons.fullscreen),"</button>"),this.options.showColumns&&(j.push(E('<div class="keep-open btn-group" title="%s">',this.options.formatColumns()),'<button type="button" aria-label="columns" class="btn'+E(" btn-%s",this.options.buttonsClass)+E(" btn-%s",this.options.iconSize)+' dropdown-toggle" data-toggle="dropdown">',E('<i class="%s %s"></i>',this.options.iconsPrefix,this.options.icons.columns),' <span class="caret"></span>',"</button>",G.toobarDropdowHtml[0]),J.each(this.columns,function(g,e){if(!(e.radio||e.checkbox||k.options.cardView&&!e.cardVisible)){var h=e.visible?' checked="checked"':"";e.switchable&&(j.push(E(G.toobarDropdowItemHtml,E('<input type="checkbox" data-field="%s" value="%s"%s> %s',e.field,g,h,e.title))),d++)}}),j.push(G.toobarDropdowHtml[1],"</div>")),j.push("</div>"),(this.showToolbar||j.length>2)&&this.$toolbar.append(j.join("")),this.options.showPaginationSwitch&&this.$toolbar.find('button[name="paginationSwitch"]').off("click").on("click",J.proxy(this.togglePagination,this)),this.options.showRefresh&&this.$toolbar.find('button[name="refresh"]').off("click").on("click",J.proxy(this.refresh,this)),this.options.showToggle&&this.$toolbar.find('button[name="toggle"]').off("click").on("click",function(){k.toggleView()}),this.options.showColumns&&(a=this.$toolbar.find(".keep-open"),d<=this.options.minimumCountColumns&&a.find("input").prop("disabled",!0),a.find("li").off("click").on("click",function(b){b.stopImmediatePropagation()}),a.find("input").off("click").on("click",function(){var c=J(this);k.toggleColumn(J(this).val(),c.prop("checked"),!1),k.trigger("column-switch",J(this).data("field"),c.prop("checked"))})),this.options.search&&(j=[],j.push(E('<div class="%s-%s search">',G.pullClass,this.options.searchAlign),E('<span class="search-icon glyphicon glyphicon-search"></span><input class="form-control search-input glyphicon glyphicon-search'+E(" input-%s",this.options.iconSize)+'" type="text" placeholder="%s">',this.options.formatSearch()),"</div>"),this.$toolbar.append(j.join("")),l=this.$toolbar.find(".search input"),l.off("keyup drop blur").on("keyup drop blur",function(c){k.options.searchOnEnterKey&&13!==c.keyCode||J.inArray(c.keyCode,[37,38,39,40])>-1||(clearTimeout(f),f=setTimeout(function(){k.onSearch(c)},k.options.searchTimeOut))}),v()&&l.off("mouseup").on("mouseup",function(b){clearTimeout(f),f=setTimeout(function(){k.onSearch(b)},k.options.searchTimeOut)}))},t.prototype.onSearch=function(a){var d=J.trim(J(a.currentTarget).val());this.options.trimOnSearch&&J(a.currentTarget).val()!==d&&J(a.currentTarget).val(d),d!==this.searchText&&(this.searchText=d,this.options.searchText=d,this.options.pageNumber=1,this.initSearch(),a.firedByInitSearchText?"client"===this.options.sidePagination&&this.updatePagination():this.updatePagination(),this.trigger("search",d))},t.prototype.initSearch=function(){var a=this;if("server"!==this.options.sidePagination){if(this.options.customSearch!==J.noop){return void window[this.options.customSearch].apply(this,[this.searchText])}var f=this.searchText&&(this.options.escape?y(this.searchText):this.searchText).toLowerCase(),e=J.isEmptyObject(this.filterColumns)?null:this.filterColumns;this.data=e?J.grep(this.options.data,function(d){for(var g in e){if(J.isArray(e[g])&&-1===J.inArray(d[g],e[g])||!J.isArray(e[g])&&d[g]!==e[g]){return !1}}return !0}):this.options.data,this.data=f?J.grep(this.data,function(q,p){for(var o=0;o<a.header.fields.length;o++){if(a.header.searchables[o]){var n,m=J.isNumeric(a.header.fields[o])?parseInt(a.header.fields[o],10):a.header.fields[o],j=a.columns[a.fieldsColumnsIndex[m]];if("string"==typeof m){n=q;for(var c=m.split("."),b=0;b<c.length;b++){null!=n[c[b]]&&(n=n[c[b]])}j&&j.searchFormatter&&(n=A(j,a.header.formatters[o],[n,q,p],n))}else{n=q[m]}if("string"==typeof n||"number"==typeof n){if(a.options.strictSearch){if((n+"").toLowerCase()===f){return !0}}else{if(-1!==(n+"").toLowerCase().indexOf(f)){return !0}}}}}return !1}):this.data}},t.prototype.initPagination=function(){if(!this.options.pagination){return void this.$pagination.hide()}this.$pagination.show();var V,U,T,S,R,Q,P,O=this,N=[],M=!1,L=this.getData(),K=this.options.pageList;if("server"!==this.options.sidePagination&&(this.options.totalRows=L.length),this.totalPages=0,this.options.totalRows){if(this.options.pageSize===this.options.formatAllRows()){this.options.pageSize=this.options.totalRows,M=!0}else{if(this.options.pageSize===this.options.totalRows){var f="string"==typeof this.options.pageList?this.options.pageList.replace("[","").replace("]","").replace(/ /g,"").toLowerCase().split(","):this.options.pageList;J.inArray(this.options.formatAllRows().toLowerCase(),f)>-1&&(M=!0)}}this.totalPages=~~((this.options.totalRows-1)/this.options.pageSize)+1,this.options.totalPages=this.totalPages}if(this.totalPages>0&&this.options.pageNumber>this.totalPages&&(this.options.pageNumber=this.totalPages),this.pageFrom=(this.options.pageNumber-1)*this.options.pageSize+1,this.pageTo=this.options.pageNumber*this.options.pageSize,this.pageTo>this.options.totalRows&&(this.pageTo=this.options.totalRows),N.push(E('<div class="%s-%s pagination-detail">',G.pullClass,this.options.paginationDetailHAlign),'<span class="pagination-info">',this.options.onlyInfoPagination?this.options.formatDetailPagination(this.options.totalRows):this.options.formatShowingRows(this.pageFrom,this.pageTo,this.options.totalRows),"</span>"),!this.options.onlyInfoPagination){N.push('<span class="page-list">');var d=[E('<span class="btn-group %s">',"top"===this.options.paginationVAlign||"both"===this.options.paginationVAlign?"dropdown":"dropup"),'<button type="button" class="btn'+E(" btn-%s",this.options.buttonsClass)+E(" btn-%s",this.options.iconSize)+' dropdown-toggle" data-toggle="dropdown">','<span class="page-size">',M?this.options.formatAllRows():this.options.pageSize,"</span>",' <span class="caret"></span>',"</button>",G.pageDropdownHtml[0]];if("string"==typeof this.options.pageList){var a=this.options.pageList.replace("[","").replace("]","").replace(/ /g,"").split(",");K=[],J.each(a,function(e,c){K.push(c.toUpperCase()===O.options.formatAllRows().toUpperCase()||"UNLIMITED"===c.toUpperCase()?O.options.formatAllRows():+c)})}for(J.each(K,function(g,e){if(!O.options.smartDisplay||0===g||K[g-1]<O.options.totalRows){var h;h=M?e===O.options.formatAllRows()?"active":"":e===O.options.pageSize?"active":"",d.push(E(G.pageDropdownItemHtml,h,e))}}),d.push(G.pageDropdownHtml[1]+"</span>"),N.push(this.options.formatRecordsPerPage(d.join(""))),N.push("</span>"),N.push("</div>",E('<div class="%s-%s pagination">',G.pullClass,this.options.paginationHAlign),'<ul class="pagination'+E(" pagination-%s",this.options.iconSize)+'">',E('<li class="page-item page-pre"><a class="page-link" href="#">%s</a></li>',this.options.paginationPreText)),this.totalPages<5?(U=1,T=this.totalPages):(U=this.options.pageNumber-2,T=U+4,1>U&&(U=1,T=5),T>this.totalPages&&(T=this.totalPages,U=T-4)),this.totalPages>=6&&(this.options.pageNumber>=3&&(N.push(E('<li class="page-item page-first%s">',1===this.options.pageNumber?" active":""),'<a class="page-link" href="#">',1,"</a>","</li>"),U++),this.options.pageNumber>=4&&(4==this.options.pageNumber||6==this.totalPages||7==this.totalPages?U--:N.push('<li class="page-item page-first-separator disabled">','<a class="page-link" href="#">...</a>',"</li>"),T--)),this.totalPages>=7&&this.options.pageNumber>=this.totalPages-2&&U--,6==this.totalPages?this.options.pageNumber>=this.totalPages-2&&T++:this.totalPages>=7&&(7==this.totalPages||this.options.pageNumber>=this.totalPages-3)&&T++,V=U;T>=V;V++){N.push(E('<li class="page-item%s">',V===this.options.pageNumber?" active":""),'<a class="page-link" href="#">',V,"</a>","</li>")}this.totalPages>=8&&this.options.pageNumber<=this.totalPages-4&&N.push('<li class="page-item page-last-separator disabled">','<a class="page-link" href="#">...</a>',"</li>"),this.totalPages>=6&&this.options.pageNumber<=this.totalPages-3&&N.push(E('<li class="page-item page-last%s">',this.totalPages===this.options.pageNumber?" active":""),'<a class="page-link" href="#">',this.totalPages,"</a>","</li>"),N.push(E('<li class="page-item page-next"><a class="page-link" href="#">%s</a></li>',this.options.paginationNextText),"</ul>","</div>")}this.$pagination.html(N.join("")),this.options.onlyInfoPagination||(S=this.$pagination.find(".page-list a"),R=this.$pagination.find(".page-pre"),Q=this.$pagination.find(".page-next"),P=this.$pagination.find(".page-item").not(".page-next, .page-pre"),this.options.smartDisplay&&(this.totalPages<=1&&this.$pagination.find("div.pagination").hide(),(K.length<2||this.options.totalRows<=K[0])&&this.$pagination.find("span.page-list").hide(),this.$pagination[this.getData().length?"show":"hide"]()),this.options.paginationLoop||(1===this.options.pageNumber&&R.addClass("disabled"),this.options.pageNumber===this.totalPages&&Q.addClass("disabled")),M&&(this.options.pageSize=this.options.formatAllRows()),S.off("click").on("click",J.proxy(this.onPageListChange,this)),R.off("click").on("click",J.proxy(this.onPagePre,this)),Q.off("click").on("click",J.proxy(this.onPageNext,this)),P.off("click").on("click",J.proxy(this.onPageNumber,this)))},t.prototype.updatePagination=function(a){a&&J(a.currentTarget).hasClass("disabled")||(this.options.maintainSelected||this.resetRows(),this.initPagination(),"server"===this.options.sidePagination?this.initServer():this.initBody(),this.trigger("page-change",this.options.pageNumber,this.options.pageSize))},t.prototype.onPageListChange=function(a){a.preventDefault();var d=J(a.currentTarget);return d.parent().addClass("active").siblings().removeClass("active"),this.options.pageSize=d.text().toUpperCase()===this.options.formatAllRows().toUpperCase()?this.options.formatAllRows():+d.text(),this.$toolbar.find(".page-size").text(this.options.pageSize),this.updatePagination(a),!1},t.prototype.onPagePre=function(b){return b.preventDefault(),this.options.pageNumber-1===0?this.options.pageNumber=this.options.totalPages:this.options.pageNumber--,this.updatePagination(b),!1},t.prototype.onPageNext=function(b){return b.preventDefault(),this.options.pageNumber+1>this.options.totalPages?this.options.pageNumber=1:this.options.pageNumber++,this.updatePagination(b),!1},t.prototype.onPageNumber=function(a){return a.preventDefault(),this.options.pageNumber!==+J(a.currentTarget).text()?(this.options.pageNumber=+J(a.currentTarget).text(),this.updatePagination(a),!1):void 0},t.prototype.initRow=function(L,K){var r,q=this,n=[],l={},j=[],g="",f={},a=[];if(!(J.inArray(L,this.hiddenRows)>-1)){if(l=A(this.options,this.options.rowStyle,[L,K],l),l&&l.css){for(r in l.css){j.push(r+": "+l.css[r])}}if(f=A(this.options,this.options.rowAttributes,[L,K],f)){for(r in f){a.push(E('%s="%s"',r,y(f[r])))}}return L._data&&!J.isEmptyObject(L._data)&&J.each(L._data,function(d,c){"index"!==d&&(g+=E(' data-%s="%s"',d,c))}),n.push("<tr",E(" %s",a.join(" ")),E(' id="%s"',J.isArray(L)?void 0:L._id),E(' class="%s"',l.classes||(J.isArray(L)?void 0:L._class)),E(' data-index="%s"',K),E(' data-uniqueid="%s"',L[this.options.uniqueId]),E("%s",g),">"),this.options.cardView&&n.push(E('<td colspan="%s"><div class="card-views">',this.header.fields.length)),!this.options.cardView&&this.options.detailView&&(n.push("<td>"),A(null,this.options.detailFilter,[K,L])&&n.push('<a class="detail-icon" href="#">',E('<i class="%s %s"></i>',this.options.iconsPrefix,this.options.icons.detailOpen),"</a>"),n.push("</td>")),J.each(this.header.fields,function(N,M){var k="",h=w(L,M,q.options.escape),c="",b="",V={},U="",T=q.header.classes[N],S="",R="",Q="",P="",O=q.columns[N];if((!q.fromHtml||"undefined"!=typeof h||O.checkbox||O.radio)&&O.visible&&(!q.options.cardView||O.cardVisible)){if(O.escape&&(h=y(h)),l=E('style="%s"',j.concat(q.header.styles[N]).join("; ")),L["_"+M+"_id"]&&(U=E(' id="%s"',L["_"+M+"_id"])),L["_"+M+"_class"]&&(T=E(' class="%s"',L["_"+M+"_class"])),L["_"+M+"_rowspan"]&&(R=E(' rowspan="%s"',L["_"+M+"_rowspan"])),L["_"+M+"_colspan"]&&(Q=E(' colspan="%s"',L["_"+M+"_colspan"])),L["_"+M+"_title"]&&(P=E(' title="%s"',L["_"+M+"_title"])),V=A(q.header,q.header.cellStyles[N],[h,L,K,M],V),V.classes&&(T=E(' class="%s"',V.classes)),V.css){var i=[];for(var e in V.css){i.push(e+": "+V.css[e])}l=E('style="%s"',i.concat(q.header.styles[N]).join("; "))}c=A(O,q.header.formatters[N],[h,L,K,M],h),L["_"+M+"_data"]&&!J.isEmptyObject(L["_"+M+"_data"])&&J.each(L["_"+M+"_data"],function(m,d){"index"!==m&&(S+=E(' data-%s="%s"',m,d))}),O.checkbox||O.radio?(b=O.checkbox?"checkbox":b,b=O.radio?"radio":b,k=[E(q.options.cardView?'<div class="card-view %s">':'<td class="bs-checkbox %s">',O["class"]||""),"<input"+E(' data-index="%s"',K)+E(' name="%s"',q.options.selectItemName)+E(' type="%s"',b)+E(' value="%s"',L[q.options.idField])+E(' checked="%s"',c===!0||h||c&&c.checked?"checked":void 0)+E(' disabled="%s"',!O.checkboxEnabled||c&&c.disabled?"disabled":void 0)+" />",q.header.formatters[N]&&"string"==typeof c?c:"",q.options.cardView?"</div>":"</td>"].join(""),L[q.header.stateField]=c===!0||!!h||c&&c.checked):(c="undefined"==typeof c||null===c?q.options.undefinedText:c,k=q.options.cardView?['<div class="card-view">',q.options.showHeader?E('<span class="title" %s>%s</span>',l,D(q.columns,"field","title",M)):"",E('<span class="value">%s</span>',c),"</div>"].join(""):[E("<td%s %s %s %s %s %s %s>",U,T,l,S,R,Q,P),c,"</td>"].join(""),q.options.cardView&&q.options.smartDisplay&&""===c&&(k='<div class="card-view"></div>')),n.push(k)}}),this.options.cardView&&n.push("</div></td>"),n.push("</tr>"),n.join(" ")}},t.prototype.initBody=function(a){var p=this,o=this.getData();this.trigger("pre-body",o),this.$body=this.$el.find(">tbody"),this.$body.length||(this.$body=J("<tbody></tbody>").appendTo(this.$el)),this.options.pagination&&"server"!==this.options.sidePagination||(this.pageFrom=1,this.pageTo=o.length);for(var n,m=J(document.createDocumentFragment()),l=this.pageFrom-1;l<this.pageTo;l++){var j=o[l],f=this.initRow(j,l,o,m);n=n||!!f,f&&f!==!0&&m.append(f)}n||m.append('<tr class="no-records-found">'+E('<td colspan="%s">%s</td>',this.$header.find("th").length,this.options.formatNoMatches())+"</tr>"),this.$body.html(m),a||this.scrollTo(0),this.$body.find("> tr[data-index] > td").off("click dblclick").on("click dblclick",function(Q){var P=J(this),O=P.parent(),N=p.data[O.data("index")],M=P[0].cellIndex,L=p.getVisibleFields(),K=L[p.options.detailView&&!p.options.cardView?M-1:M],r=p.columns[p.fieldsColumnsIndex[K]],q=w(N,K,p.options.escape);if(!P.find(".detail-icon").length&&(p.trigger("click"===Q.type?"click-cell":"dbl-click-cell",K,q,N,P),p.trigger("click"===Q.type?"click-row":"dbl-click-row",N,O,K),"click"===Q.type&&p.options.clickToSelect&&r.clickToSelect&&p.options.ignoreClickToSelectOn(Q.target))){var c=O.find(E('[name="%s"]',p.options.selectItemName));c.length&&c[0].click()}}),this.$body.find("> tr[data-index] > td > .detail-icon").off("click").on("click",function(c){c.preventDefault();var M=J(this),L=M.parent().parent(),K=L.data("index"),r=o[K];if(L.next().is("tr.detail-view")){M.find("i").attr("class",E("%s %s",p.options.iconsPrefix,p.options.icons.detailOpen)),p.trigger("collapse-row",K,r,L.next()),L.next().remove()}else{M.find("i").attr("class",E("%s %s",p.options.iconsPrefix,p.options.icons.detailClose)),L.after(E('<tr class="detail-view"><td colspan="%s"></td></tr>',L.find("td").length));var q=L.next().find("td"),d=A(p.options,p.options.detailFormatter,[K,r,q],"");1===q.length&&q.append(d),p.trigger("expand-row",K,r,q)}return p.resetView(),!1}),this.$selectItem=this.$body.find(E('[name="%s"]',this.options.selectItemName)),this.$selectItem.off("click").on("click",function(c){c.stopImmediatePropagation();var i=J(this),h=i.prop("checked"),g=p.data[i.data("index")];(J(this).is(":radio")||p.options.singleSelect)&&J.each(p.options.data,function(e,d){d[p.header.stateField]=!1}),g[p.header.stateField]=h,p.options.singleSelect&&(p.$selectItem.not(this).each(function(){p.data[J(this).data("index")][p.header.stateField]=!1}),p.$selectItem.filter(":checked").not(this).prop("checked",!1)),p.updateSelected(),p.trigger(h?"check":"uncheck",g,i)}),J.each(this.header.events,function(c,q){if(q){"string"==typeof q&&(q=A(null,q));var k=p.header.fields[c],i=J.inArray(k,p.getVisibleFields());if(-1!==i){p.options.detailView&&!p.options.cardView&&(i+=1);for(var h in q){p.$body.find(">tr:not(.no-records-found)").each(function(){var d=J(this),L=d.find(p.options.cardView?".card-view":"td").eq(i),K=h.indexOf(" "),r=h.substring(0,K),g=h.substring(K+1),e=q[h];L.find(g).off(r).on(r,function(b){var O=d.data("index"),N=p.data[O],M=N[k];e.apply(this,[b,M,N,O])})})}}}}),this.updateSelected(),this.resetView(),this.trigger("post-body",o)},t.prototype.initServer=function(a,p,o){var n,m=this,l={},k=J.inArray(this.options.sortName,this.header.fields),j={searchText:this.searchText,sortName:this.options.sortName,sortOrder:this.options.sortOrder};this.header.sortNames[k]&&(j.sortName=this.header.sortNames[k]),this.options.pagination&&"server"===this.options.sidePagination&&(j.pageSize=this.options.pageSize===this.options.formatAllRows()?this.options.totalRows:this.options.pageSize,j.pageNumber=this.options.pageNumber),(o||this.options.url||this.options.ajax)&&("limit"===this.options.queryParamsType&&(j={search:j.searchText,sort:j.sortName,order:j.sortOrder},this.options.pagination&&"server"===this.options.sidePagination&&(j.offset=this.options.pageSize===this.options.formatAllRows()?0:this.options.pageSize*(this.options.pageNumber-1),j.limit=this.options.pageSize===this.options.formatAllRows()?this.options.totalRows:this.options.pageSize,0===j.limit&&delete j.limit)),J.isEmptyObject(this.filterColumnsPartial)||(j.filter=JSON.stringify(this.filterColumnsPartial,null)),l=A(this.options,this.options.queryParams,[j],l),J.extend(l,p||{}),l!==!1&&(a||this.$tableLoading.show(),n=J.extend({},A(null,this.options.ajaxOptions),{type:this.options.method,url:o||this.options.url,data:"application/json"===this.options.contentType&&"post"===this.options.method?JSON.stringify(l):l,cache:this.options.cache,contentType:this.options.contentType,dataType:this.options.dataType,success:function(b){b=A(m.options,m.options.responseHandler,[b],b),m.load(b),m.trigger("load-success",b),a||m.$tableLoading.hide()},error:function(b){var d=[];"server"===m.options.sidePagination&&(d={},d[m.options.totalField]=0,d[m.options.dataField]=[]),m.load(d),m.trigger("load-error",b.status,b),a||m.$tableLoading.hide()}}),this.options.ajax?A(this,this.options.ajax,[n],null):(this._xhr&&4!==this._xhr.readyState&&this._xhr.abort(),this._xhr=J.ajax(n))))},t.prototype.initSearchText=function(){if(this.options.search&&(this.searchText="",""!==this.options.searchText)){var b=this.$toolbar.find(".search input");b.val(this.options.searchText),this.onSearch({currentTarget:b,firedByInitSearchText:!0})}},t.prototype.getCaret=function(){var a=this;J.each(this.$header.find("th"),function(e,b){J(b).find(".sortable").removeClass("desc asc").addClass(J(b).data("field")===a.options.sortName?a.options.sortOrder:"both")})},t.prototype.updateSelected=function(){var a=this.$selectItem.filter(":enabled").length&&this.$selectItem.filter(":enabled").length===this.$selectItem.filter(":enabled").filter(":checked").length;this.$selectAll.add(this.$selectAll_).prop("checked",a),this.$selectItem.each(function(){J(this).closest("tr")[J(this).prop("checked")?"addClass":"removeClass"]("selected")})},t.prototype.updateRows=function(){var a=this;this.$selectItem.each(function(){a.data[J(this).data("index")][a.header.stateField]=J(this).prop("checked")})},t.prototype.resetRows=function(){var a=this;J.each(this.data,function(b,d){a.$selectAll.prop("checked",!1),a.$selectItem.prop("checked",!1),a.header.stateField&&(d[a.header.stateField]=!1)}),this.initHiddenRows()},t.prototype.trigger=function(a){var d=Array.prototype.slice.call(arguments,1);a+=".bs.table",this.options[t.EVENTS[a]].apply(this.options,d),this.$el.trigger(J.Event(a),d),this.options.onAll(a,d),this.$el.trigger(J.Event("all.bs.table"),[a,d])},t.prototype.resetHeader=function(){clearTimeout(this.timeoutId_),this.timeoutId_=setTimeout(J.proxy(this.fitHeader,this),this.$el.is(":hidden")?100:0)},t.prototype.fitHeader=function(){var L,K,r,q,p=this;if(p.$el.is(":hidden")){return void (p.timeoutId_=setTimeout(J.proxy(p.fitHeader,p),100))}if(L=this.$tableBody.get(0),K=L.scrollWidth>L.clientWidth&&L.scrollHeight>L.clientHeight+this.$header.outerHeight()?B():0,this.$el.css("margin-top",-this.$header.outerHeight()),r=J(":focus"),r.length>0){var o=r.parents("th");if(o.length>0){var n=o.attr("data-field");if(void 0!==n){var i=this.$header.find("[data-field='"+n+"']");i.length>0&&i.find(":input").addClass("focus-temp")}}}this.$header_=this.$header.clone(!0,!0),this.$selectAll_=this.$header_.find('[name="btSelectAll"]'),this.$tableHeader.css({"margin-right":K}).find("table").css("width",this.$el.outerWidth()).html("").attr("class",this.$el.attr("class")).append(this.$header_),q=J(".focus-temp:visible:eq(0)"),q.length>0&&(q.focus(),this.$header.find(".focus-temp").removeClass("focus-temp")),this.$header.find("th[data-field]").each(function(){p.$header_.find(E('th[data-field="%s"]',J(this).data("field"))).data(J(this).data())});var f=this.getVisibleFields(),a=this.$header_.find("th");this.$body.find(">tr:first-child:not(.no-records-found) > *").each(function(g){var m=J(this),l=g;if(p.options.detailView&&!p.options.cardView&&(0===g&&p.$header_.find("th.detail").find(".fht-cell").width(m.innerWidth()),l=g-1),-1!==l){var k=p.$header_.find(E('th[data-field="%s"]',f[l]));k.length>1&&(k=J(a[m[0].cellIndex]));var j=k.width()-k.find(".fht-cell").width();k.find(".fht-cell").width(m.innerWidth()-j)}}),this.horizontalScroll(),this.trigger("post-header")},t.prototype.resetFooter=function(){var a=this,f=a.getData(),e=[];this.options.showFooter&&!this.options.cardView&&(!this.options.cardView&&this.options.detailView&&e.push('<td><div class="th-inner">&nbsp;</div><div class="fht-cell"></div></td>'),J.each(this.columns,function(d,q){var p,o="",n="",j=[],c={},b=E(' class="%s"',q["class"]);if(q.visible&&(!a.options.cardView||q.cardVisible)){if(o=E("text-align: %s; ",q.falign?q.falign:q.align),n=E("vertical-align: %s; ",q.valign),c=A(null,a.options.footerStyle),c&&c.css){for(p in c.css){j.push(p+": "+c.css[p])}}e.push("<td",b,E(' style="%s"',o+n+j.concat().join("; ")),">"),e.push('<div class="th-inner">'),e.push(A(q,q.footerFormatter,[f],"&nbsp;")||"&nbsp;"),e.push("</div>"),e.push('<div class="fht-cell"></div>'),e.push("</div>"),e.push("</td>")}}),this.$tableFooter.find("tr").html(e.join("")),this.$tableFooter.show(),clearTimeout(this.timeoutFooter_),this.timeoutFooter_=setTimeout(J.proxy(this.fitFooter,this),this.$el.is(":hidden")?100:0))},t.prototype.fitFooter=function(){var a,f,e;return clearTimeout(this.timeoutFooter_),this.$el.is(":hidden")?void (this.timeoutFooter_=setTimeout(J.proxy(this.fitFooter,this),100)):(f=this.$el.css("width"),e=f>this.$tableBody.width()?B():0,this.$tableFooter.css({"margin-right":e}).find("table").css("width",f).attr("class",this.$el.attr("class")),a=this.$tableFooter.find("td"),this.$body.find(">tr:first-child:not(.no-records-found) > *").each(function(g){var b=J(this);a.eq(g).find(".fht-cell").width(b.innerWidth())}),void this.horizontalScroll())},t.prototype.horizontalScroll=function(){var a=this;a.trigger("scroll-body"),this.$tableBody.off("scroll").on("scroll",function(){a.options.showHeader&&a.options.height&&a.$tableHeader.scrollLeft(J(this).scrollLeft()),a.options.showFooter&&!a.options.cardView&&a.$tableFooter.scrollLeft(J(this).scrollLeft())})},t.prototype.toggleColumn=function(f,e,h){if(-1!==f&&(this.columns[f].visible=e,this.initHeader(),this.initSearch(),this.initPagination(),this.initBody(),this.options.showColumns)){var g=this.$toolbar.find(".keep-open input").prop("disabled",!1);h&&g.filter(E('[value="%s"]',f)).prop("checked",e),g.filter(":checked").length<=this.options.minimumCountColumns&&g.filter(":checked").prop("disabled",!0)}},t.prototype.getVisibleFields=function(){var a=this,d=[];return J.each(this.header.fields,function(b,f){var c=a.columns[a.fieldsColumnsIndex[f]];c.visible&&d.push(f)}),d},t.prototype.resetView=function(g){var f=0;if(g&&g.height&&(this.options.height=g.height),this.$selectAll.prop("checked",this.$selectItem.length>0&&this.$selectItem.length===this.$selectItem.filter(":checked").length),this.options.height){var j=this.$toolbar.outerHeight(!0),i=this.$pagination.outerHeight(!0),h=this.options.height-j-i;this.$tableContainer.css("height",h+"px")}return this.options.cardView?(this.$el.css("margin-top","0"),this.$tableContainer.css("padding-bottom","0"),void this.$tableFooter.hide()):(this.options.showHeader&&this.options.height?(this.$tableHeader.show(),this.resetHeader(),f+=this.$header.outerHeight()):(this.$tableHeader.hide(),this.trigger("post-header")),this.options.showFooter&&(this.resetFooter(),this.options.height&&(f+=this.$tableFooter.outerHeight()+1)),this.getCaret(),this.$tableContainer.css("padding-bottom",f+"px"),void this.trigger("reset-view"))},t.prototype.getData=function(a){var d=this.options.data;return(this.searchText||this.options.sortName||!J.isEmptyObject(this.filterColumns)||!J.isEmptyObject(this.filterColumnsPartial))&&(d=this.data),a?d.slice(this.pageFrom-1,this.pageTo):d},t.prototype.load=function(a){var d=!1;this.options.pagination&&"server"===this.options.sidePagination?(this.options.totalRows=a[this.options.totalField],d=a.fixedScroll,a=a[this.options.dataField]):J.isArray(a)||(d=a.fixedScroll,a=a.data),this.initData(a),this.initSearch(),this.initPagination(),this.initBody(d)},t.prototype.append=function(b){this.initData(b,"append"),this.initSearch(),this.initPagination(),this.initSort(),this.initBody(!0)},t.prototype.prepend=function(b){this.initData(b,"prepend"),this.initSearch(),this.initPagination(),this.initSort(),this.initBody(!0)},t.prototype.remove=function(a){var h,g,f=this.options.data.length;if(a.hasOwnProperty("field")&&a.hasOwnProperty("values")){for(h=f-1;h>=0;h--){g=this.options.data[h],g.hasOwnProperty(a.field)&&-1!==J.inArray(g[a.field],a.values)&&(this.options.data.splice(h,1),"server"===this.options.sidePagination&&(this.options.totalRows-=1))}f!==this.options.data.length&&(this.initSearch(),this.initPagination(),this.initSort(),this.initBody(!0))}},t.prototype.removeAll=function(){this.options.data.length>0&&(this.options.data.splice(0,this.options.data.length),this.initSearch(),this.initPagination(),this.initBody(!0))},t.prototype.getRowByUniqueId=function(i){var h,n,m,l=this.options.uniqueId,k=this.options.data.length,j=null;for(h=k-1;h>=0;h--){if(n=this.options.data[h],n.hasOwnProperty(l)){m=n[l]}else{if(!n._data.hasOwnProperty(l)){continue}m=n._data[l]}if("string"==typeof m?i=i.toString():"number"==typeof m&&(Number(m)===m&&m%1===0?i=parseInt(i):m===Number(m)&&0!==m&&(i=parseFloat(i))),m===i){j=n;break}}return j},t.prototype.removeByUniqueId=function(e){var d=this.options.data.length,f=this.getRowByUniqueId(e);f&&this.options.data.splice(this.options.data.indexOf(f),1),d!==this.options.data.length&&(this.initSearch(),this.initPagination(),this.initBody(!0))},t.prototype.updateByUniqueId=function(a){var f=this,e=J.isArray(a)?a:[a];J.each(e,function(c,h){var g;h.hasOwnProperty("id")&&h.hasOwnProperty("row")&&(g=J.inArray(f.getRowByUniqueId(h.id),f.options.data),-1!==g&&J.extend(f.options.data[g],h.row))}),this.initSearch(),this.initPagination(),this.initSort(),this.initBody(!0)},t.prototype.refreshColumnTitle=function(a){if(a.hasOwnProperty("field")&&a.hasOwnProperty("title")&&(this.columns[this.fieldsColumnsIndex[a.field]].title=this.options.escape?y(a.title):a.title,this.columns[this.fieldsColumnsIndex[a.field]].visible)){var d=void 0!==this.options.height?this.$tableHeader:this.$header;d.find("th[data-field]").each(function(){return J(this).data("field")===a.field?(J(J(this).find(".th-inner")[0]).text(a.title),!1):void 0})}},t.prototype.insertRow=function(b){b.hasOwnProperty("index")&&b.hasOwnProperty("row")&&(this.options.data.splice(b.index,0,b.row),this.initSearch(),this.initPagination(),this.initSort(),this.initBody(!0))},t.prototype.updateRow=function(a){var f=this,e=J.isArray(a)?a:[a];J.each(e,function(c,g){g.hasOwnProperty("index")&&g.hasOwnProperty("row")&&J.extend(f.options.data[g.index],g.row)}),this.initSearch(),this.initPagination(),this.initSort(),this.initBody(!0)},t.prototype.initHiddenRows=function(){this.hiddenRows=[]},t.prototype.showRow=function(b){this.toggleRow(b,!0)},t.prototype.hideRow=function(b){this.toggleRow(b,!1)},t.prototype.toggleRow=function(a,h){var g,f;a.hasOwnProperty("index")?g=this.getData()[a.index]:a.hasOwnProperty("uniqueId")&&(g=this.getRowByUniqueId(a.uniqueId)),g&&(f=J.inArray(g,this.hiddenRows),h||-1!==f?h&&f>-1&&this.hiddenRows.splice(f,1):this.hiddenRows.push(g),this.initBody(!0))},t.prototype.getHiddenRows=function(){var a=this,f=this.getData(),e=[];return J.each(f,function(d,b){J.inArray(b,a.hiddenRows)>-1&&e.push(b)}),this.hiddenRows=e,e},t.prototype.mergeCells=function(r){var q,p,o,n=r.index,m=J.inArray(r.field,this.getVisibleFields()),l=r.rowspan||1,k=r.colspan||1,a=this.$body.find(">tr");if(this.options.detailView&&!this.options.cardView&&(m+=1),o=a.eq(n).find(">td").eq(m),!(0>n||0>m||n>=this.data.length)){for(q=n;n+l>q;q++){for(p=m;m+k>p;p++){a.eq(q).find(">td").eq(p).hide()}}o.attr("rowspan",l).attr("colspan",k).show()}},t.prototype.updateCell=function(b){b.hasOwnProperty("index")&&b.hasOwnProperty("field")&&b.hasOwnProperty("value")&&(this.data[b.index][b.field]=b.value,b.reinit!==!1&&(this.initSort(),this.initBody(!0)))},t.prototype.updateCellById=function(a){var f=this;if(a.hasOwnProperty("id")&&a.hasOwnProperty("field")&&a.hasOwnProperty("value")){var e=J.isArray(a)?a:[a];J.each(e,function(c,h){var g;g=J.inArray(f.getRowByUniqueId(h.id),f.options.data),-1!==g&&(f.data[g][h.field]=h.value)}),a.reinit!==!1&&(this.initSort(),this.initBody(!0))}},t.prototype.getOptions=function(){return J.extend(!0,{},this.options)},t.prototype.getSelections=function(){var a=this;return J.grep(this.options.data,function(b){return b[a.header.stateField]===!0})},t.prototype.getAllSelections=function(){var a=this;return J.grep(this.options.data,function(b){return b[a.header.stateField]})},t.prototype.checkAll=function(){this.checkAll_(!0)},t.prototype.uncheckAll=function(){this.checkAll_(!1)},t.prototype.checkInvert=function(){var a=this,f=a.$selectItem.filter(":enabled"),e=f.filter(":checked");f.each(function(){J(this).prop("checked",!J(this).prop("checked"))}),a.updateRows(),a.updateSelected(),a.trigger("uncheck-some",e),e=a.getSelections(),a.trigger("check-some",e)},t.prototype.checkAll_=function(d){var c;d||(c=this.getSelections()),this.$selectAll.add(this.$selectAll_).prop("checked",d),this.$selectItem.filter(":enabled").prop("checked",d),this.updateRows(),d&&(c=this.getSelections()),this.trigger(d?"check-all":"uncheck-all",c)},t.prototype.check=function(b){this.check_(!0,b)},t.prototype.uncheck=function(b){this.check_(!1,b)},t.prototype.check_=function(e,d){var f=this.$selectItem.filter(E('[data-index="%s"]',d)).prop("checked",e);this.data[d][this.header.stateField]=e,this.updateSelected(),this.trigger(e?"check":"uncheck",this.data[d],f)},t.prototype.checkBy=function(b){this.checkBy_(!0,b)},t.prototype.uncheckBy=function(b){this.checkBy_(!1,b)},t.prototype.checkBy_=function(a,h){if(h.hasOwnProperty("field")&&h.hasOwnProperty("values")){var g=this,f=[];J.each(this.options.data,function(d,c){if(!c.hasOwnProperty(h.field)){return !1}if(-1!==J.inArray(c[h.field],h.values)){var b=g.$selectItem.filter(":enabled").filter(E('[data-index="%s"]',d)).prop("checked",a);c[g.header.stateField]=a,f.push(c),g.trigger(a?"check":"uncheck",c,b)}}),this.updateSelected(),this.trigger(a?"check-some":"uncheck-some",f)}},t.prototype.destroy=function(){this.$el.insertBefore(this.$container),J(this.options.toolbar).insertBefore(this.$el),this.$container.next().remove(),this.$container.remove(),this.$el.html(this.$el_.html()).css("margin-top","0").attr("class",this.$el_.attr("class")||"")},t.prototype.showLoading=function(){this.$tableLoading.show()},t.prototype.hideLoading=function(){this.$tableLoading.hide()},t.prototype.togglePagination=function(){this.options.pagination=!this.options.pagination;var b=this.$toolbar.find('button[name="paginationSwitch"] i');this.options.pagination?b.attr("class",this.options.iconsPrefix+" "+this.options.icons.paginationSwitchDown):b.attr("class",this.options.iconsPrefix+" "+this.options.icons.paginationSwitchUp),this.updatePagination()},t.prototype.toggleFullscreen=function(){this.$el.closest(".bootstrap-table").toggleClass("fullscreen")},t.prototype.refresh=function(b){b&&b.url&&(this.options.url=b.url),b&&b.pageNumber&&(this.options.pageNumber=b.pageNumber),b&&b.pageSize&&(this.options.pageSize=b.pageSize),this.initServer(b&&b.silent,b&&b.query,b&&b.url),this.trigger("refresh",b)},t.prototype.resetWidth=function(){this.options.showHeader&&this.options.height&&this.fitHeader(),this.options.showFooter&&!this.options.cardView&&this.fitFooter()},t.prototype.showColumn=function(b){this.toggleColumn(this.fieldsColumnsIndex[b],!0,!0)},t.prototype.hideColumn=function(b){this.toggleColumn(this.fieldsColumnsIndex[b],!1,!0)},t.prototype.getHiddenColumns=function(){return J.grep(this.columns,function(b){return !b.visible})},t.prototype.getVisibleColumns=function(){return J.grep(this.columns,function(b){return b.visible})},t.prototype.toggleAllColumns=function(a){var f=this;if(J.each(this.columns,function(b){f.columns[b].visible=a}),this.initHeader(),this.initSearch(),this.initPagination(),this.initBody(),this.options.showColumns){var e=this.$toolbar.find(".keep-open input").prop("disabled",!1);e.filter(":checked").length<=this.options.minimumCountColumns&&e.filter(":checked").prop("disabled",!0)}},t.prototype.showAllColumns=function(){this.toggleAllColumns(!0)},t.prototype.hideAllColumns=function(){this.toggleAllColumns(!1)},t.prototype.filterBy=function(a){this.filterColumns=J.isEmptyObject(a)?{}:a,this.options.pageNumber=1,this.initSearch(),this.updatePagination()},t.prototype.scrollTo=function(b){return"string"==typeof b&&(b="bottom"===b?this.$tableBody[0].scrollHeight:0),"number"==typeof b&&this.$tableBody.scrollTop(b),"undefined"==typeof b?this.$tableBody.scrollTop():void 0},t.prototype.getScrollPosition=function(){return this.scrollTo()},t.prototype.selectPage=function(b){b>0&&b<=this.options.totalPages&&(this.options.pageNumber=b,this.updatePagination())},t.prototype.prevPage=function(){this.options.pageNumber>1&&(this.options.pageNumber--,this.updatePagination())},t.prototype.nextPage=function(){this.options.pageNumber<this.options.totalPages&&(this.options.pageNumber++,this.updatePagination())},t.prototype.toggleView=function(){this.options.cardView=!this.options.cardView,this.initHeader();var b=this.$toolbar.find('button[name="toggle"] i');this.options.cardView?(b.removeClass(this.options.icons.toggleOff),b.addClass(this.options.icons.toggleOn)):(b.removeClass(this.options.icons.toggleOn),b.addClass(this.options.icons.toggleOff)),this.initBody(),this.trigger("toggle",this.options.cardView)},t.prototype.refreshOptions=function(a){z(this.options,a,!0)||(this.options=J.extend(this.options,a),this.trigger("refresh-options",this.options),this.destroy(),this.init())},t.prototype.resetSearch=function(d){var c=this.$toolbar.find(".search input");c.val(d||""),this.onSearch({currentTarget:c})},t.prototype.expandRow_=function(e,d){var f=this.$body.find(E('> tr[data-index="%s"]',d));f.next().is("tr.detail-view")===(e?!1:!0)&&f.find("> td > .detail-icon").click()},t.prototype.expandRow=function(b){this.expandRow_(!0,b)},t.prototype.collapseRow=function(b){this.expandRow_(!1,b)},t.prototype.expandAllRows=function(r){if(r){var q=this.$body.find(E('> tr[data-index="%s"]',0)),p=this,o=null,n=!1,m=-1;if(q.next().is("tr.detail-view")?q.next().next().is("tr.detail-view")||(q.next().find(".detail-icon").click(),n=!0):(q.find("> td > .detail-icon").click(),n=!0),n){try{m=setInterval(function(){o=p.$body.find("tr.detail-view").last().find(".detail-icon"),o.length>0?o.click():clearInterval(m)},1)}catch(l){clearInterval(m)}}}else{for(var f=this.$body.children(),a=0;a<f.length;a++){this.expandRow_(!0,J(f[a]).data("index"))}}},t.prototype.collapseAllRows=function(a){if(a){this.expandRow_(!1,0)}else{for(var f=this.$body.children(),e=0;e<f.length;e++){this.expandRow_(!1,J(f[e]).data("index"))}}},t.prototype.updateFormatText=function(d,c){this.options[E("format%s",d)]&&("string"==typeof c?this.options[E("format%s",d)]=function(){return c}:"function"==typeof c&&(this.options[E("format%s",d)]=c)),this.initToolbar(),this.initPagination(),this.initBody()};var s=["getOptions","getSelections","getAllSelections","getData","load","append","prepend","remove","removeAll","insertRow","updateRow","updateCell","updateByUniqueId","removeByUniqueId","getRowByUniqueId","showRow","hideRow","getHiddenRows","mergeCells","refreshColumnTitle","checkAll","uncheckAll","checkInvert","check","uncheck","checkBy","uncheckBy","refresh","resetView","resetWidth","destroy","showLoading","hideLoading","showColumn","hideColumn","getHiddenColumns","getVisibleColumns","showAllColumns","hideAllColumns","filterBy","scrollTo","getScrollPosition","selectPage","prevPage","nextPage","togglePagination","toggleView","refreshOptions","resetSearch","expandRow","collapseRow","expandAllRows","collapseAllRows","updateFormatText","updateCellById"];J.fn.bootstrapTable=function(a){var f,e=Array.prototype.slice.call(arguments,1);return this.each(function(){var d=J(this),c=d.data("bootstrap.table"),b=J.extend({},t.DEFAULTS,d.data(),"object"==typeof a&&a);if("string"==typeof a){if(J.inArray(a,s)<0){throw new Error("Unknown method: "+a)}if(!c){return}f=c[a].apply(c,e),"destroy"===a&&d.removeData("bootstrap.table")}c||d.data("bootstrap.table",c=new t(this,b))}),"undefined"==typeof f?this:f},J.fn.bootstrapTable.Constructor=t,J.fn.bootstrapTable.defaults=t.DEFAULTS,J.fn.bootstrapTable.columnDefaults=t.COLUMN_DEFAULTS,J.fn.bootstrapTable.locales=t.LOCALES,J.fn.bootstrapTable.methods=s,J.fn.bootstrapTable.utils={bootstrapVersion:I,sprintf:E,compareObjects:z,calculateObjectValue:A,getItemField:w,objectKeys:u,isIEBrowser:v},J(function(){J('[data-toggle="table"]').bootstrapTable()})}(jQuery);